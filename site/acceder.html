<!DOCTYPE html>
<html lang="es">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ChambeaYa</title>
    <script src="/static/js/validar-sesion.js"></script>
    <link rel="stylesheet" href="/static/css/main.css">
    <link rel="shortcut icon" href="/static/brand/favicon-chambeaya.png" type="image/png">
    <link rel="stylesheet" href="/static/css/acceder.css">

</head>

<body>
    <div class="app">
        <div class="header"></div>
        <div class="page">
            <div class="width-f">
                <div class="auth-container">
                    <div class="auth-tabs">
                        <button class="tab-btn active" id="show_registro">Registrarse</button>
                        <button class="tab-btn" id="show_ingresar">Iniciar Sesión</button>
                    </div>

                    <div class="auth-form-box">
                        <!-- Registro -->
                        <form id="registro" class="auth-form" enctype="multipart/form-data">
                            <div id="common-section">
                                <label>Dirección de correo electrónico*</label>
                                <input type="email" id="correo" required>

                                <label>Usuario*</label>
                                <input type="text" id="usuario" required>

                                <label>Contraseña*</label>
                                <input type="password" id="contrasena" required>
                            </div>

                            <div class="auth-common-actions">
                                <button type="button" id="continue-empresa" disabled>Continuar como empresa</button>
                                <button type="button" id="continue-persona" disabled>Continuar como persona</button>
                            </div>

                            <div id="empresa-section" style="display: none;">
                                <label>Nombre de la empresa*</label>
                                <input type="text" id="empresa-nombre">

                                <label>RUC*</label>
                                <input type="text" id="empresa-ruc">

                                <label>Fecha de creación*</label>
                                <input type="date" id="empresa-fecha">
                            </div>

                            <div id="persona-section" style="display: none;">
                                <label>Nombres*</label>
                                <input type="text" id="persona-nombres">

                                <label>Apellidos*</label>
                                <input type="text" id="persona-apellidos">

                                <label>Fecha de Nacimiento*</label>
                                <input type="date" id="persona-fecha">

                                <label>Teléfono*</label>
                                <input type="text" id="persona-telefono">

                                <label>Foto de perfil*</label>
                                <input type="file" id="persona-foto" accept="image/*">

                            </div>

                            <button type="submit" id="submit-btn" disabled>Registrarse</button>
                        </form>

                        <!-- Login -->
                        <form id="login" class="auth-form hidden">
                            <label>Nombre de usuario*</label>
                            <input type="text" id="username" required autocomplete="off">

                            <label>Contraseña*</label>
                            <input type="password" id="password" required>

                            <label class="checkbox-container">
                                <input type="checkbox" id="keep-logged-in" checked>
                                <span class="checkmark"></span> Mantener la sesión iniciada
                            </label>

                            <a href="#" class="forgot-link">¿Has olvidado tu contraseña?</a>

                            <button type="submit" class="auth-main-btn">Iniciar Sesión</button>

                            <div class="auth-separator">O</div>

                            <div class="auth-social-container">
                                <button type="button" class="auth-social-btn google">
                                    <i class="fab fa-google"></i> Registrarme con Google
                                </button>
                                <button type="button" class="auth-social-btn facebook">
                                    <i class="fab fa-facebook"></i> Registrarme con Facebook
                                </button>
                            </div>
                        </form>
                    </div>
                </div>
            </div>
        </div>
        <div class="footer"></div>
    </div>

    <div id="face-modal"
        style="display:none; position:fixed; top:0; left:0; width:100vw; height:100vh; background:rgba(0,0,0,0.8); z-index:9999; justify-content:center; align-items:center;">

        <div style="position:relative; width:700px; max-width:90%; background:#fff; border-radius:12px; padding:20px;">
            <h2 style="text-align:center; margin-bottom:20px;">Centra tu Rostro en el
                Círculo</h2>

            <div id="video-container"
                style="position:relative; width:100%; aspect-ratio:640/480; background:#000; border-radius:12px; overflow:hidden;">
                <video id="inputVideo" autoplay muted playsinline
                    style="width:100%; height:100%; object-fit:cover;"></video>
                <div id="circle"
                    style="position:absolute; top:50%; left:50%; width:80%; height:80%; border:5px dotted red; border-radius:50%; transform:translate(-50%, -50%);">
                </div>
            </div>

            <div id="controls" style="margin-top:15px; display:flex; justify-content:center; gap:10px;">
                <select id="cameraSelect" style="padding:8px; border-radius:6px;"></select>
                <button id="startBtn" disabled
                    style="padding:8px 12px; border:none; background:#00796b; color:#fff; border-radius:6px; cursor:pointer;">Iniciar
                    Cámara</button>
                <button id="closeModalBtn"
                    style="padding:8px 12px; border:none; background:#b71c1c; color:#fff; border-radius:6px; cursor:pointer;">Cerrar</button>
            </div>

            <div id="myDiv01"
                style="margin-top:15px; text-align:center; font-size:0.9rem; padding:10px; background:rgba(255,255,255,0.8); border-radius:6px;">
                Cargando modelos...
            </div>

            <div id="countdown-display"
                style="text-align:center; margin-top:10px; font-size:2em; font-weight:bold; color:#00796b; display:none;">
            </div>

        </div>

        <script defer src="https://cdn.jsdelivr.net/npm/face-api.js@0.22.2/dist/face-api.min.js"></script>
        <script src="/static/js/camara.js"></script>
        <script src="/static/js/main.js"></script>
        <script src="/static/js/acceder.js"></script>
        <script src="/static/js/camara.js"></script>
</body>

</html>